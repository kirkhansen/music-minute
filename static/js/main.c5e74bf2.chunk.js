(this["webpackJsonpmusic-minute"]=this["webpackJsonpmusic-minute"]||[]).push([[0],{24:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/screen-shot-1.806d58ca.png"},31:function(e,t,a){e.exports=a.p+"static/media/screen-shot-2.a2de2822.png"},33:function(e,t,a){e.exports=a(61)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},49:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(9),o=a.n(s),r=(a(38),a(10)),i=a(3),c=Object(i.a)();const u="/music-minute",m="/music-minute/about",d="/music-minute/create/names",h="/music-minute/create/values",p=[{value:"3/2",label:"3/2"},{value:"2/2",label:"2/2"},{value:"2/4",label:"2/4"},{value:"3/4",label:"3/4"},{value:"4/4",label:"4/4"},{value:"5/4",label:"5/4"},{value:"3/8",label:"3/8"},{value:"5/8",label:"5/8"},{value:"6/8",label:"6/8"},{value:"9/8",label:"9/8"},{value:"12/8",label:"12/8"}],v=[{value:"w",label:"\ud834\udd5d"},{value:"h",label:"\ud834\udd5e"},{value:"q",label:"\u2669"},{value:"8",label:"\ud834\udd60"},{value:"16",label:"\ud834\udd61"},{value:"32",label:"\ud834\udd62"}],g={whole:{properName:"Whole Note",vfNotation:"w",duration:1,numericDesignation:1,active:!1},half:{properName:"Half Note",vfNotation:"h",duration:.5,numericDesignation:2,active:!1},quarter:{properName:"Quarter Note",vfNotation:"q",duration:.25,numericDesignation:4,active:!1},eighth:{properName:"Eighth Note",vfNotation:"8",duration:.125,numericDesignation:8,active:!1},sixteenth:{properName:"Sixteenth Note",vfNotation:"16",duration:.0625,numericDesignation:16,active:!1},thirtysecond:{properName:"Thirty-Second Note",vfNotation:"32",duration:.03125,numericDesignation:32,active:!1}},f=[{value:"flat-6",label:"Gb Major / Eb minor"},{value:"flat-5",label:"Db Major / Bb minor"},{value:"flat-4",label:"Ab Major / F minor"},{value:"flat-3",label:"Eb Major / F minor"},{value:"flat-2",label:"Bb Major / G minor"},{value:"flat-1",label:"F Major / D minor"},{value:"none",label:"C Major / A minor"},{value:"sharp-1",label:"G Major / E minor"},{value:"sharp-2",label:"D Major / B minor"},{value:"sharp-3",label:"A Major / F# minor"},{value:"sharp-4",label:"E Major / C# minor"},{value:"sharp-5",label:"B Major / G# minor"},{value:"sharp-6",label:"F# Major / D# minor"},{value:"sharp-7",label:"C# Major / A# minor"}];var b=a(13),E=a(11),N=a.n(E),y=a(7);a(39);function C(e){return+e.split("/")[0]}function w(e){return+e.split("/")[1]}function k(e){const t=function(e){const t=w(e),a=Object.keys(g);let n=null;a.forEach((e,a)=>{g[e].numericDesignation===t&&(n=a)});const l=1/g[a[n]].duration,s=[];return a.forEach((e,t)=>{let a={};a.properName=g[e].properName,a.normalizedDuration=g[e].duration*l,a.vfNotation=g[e].vfNotation,s.push(a)}),s}(e),a=C(e);return t.filter(e=>e.normalizedDuration<=a)}function S(e,t){const a=function(e,t){const a=w(e),n=Object.keys(t);let l=null;n.forEach((e,n)=>{t[e].numericDesignation===a&&(l=n)});const s=1/t[n[l]].duration,o=[];return n.forEach((e,a)=>{let n={};n.properName=t[e].properName,n.normalizedDuration=t[e].duration*s,n.vfNotation=t[e].vfNotation,n.active=t[e].active,n.duration=t[e].duration,n.numericDesignation=t[e].numericDesignation,o.push(n)}),o}(e,t),n=C(e);return a.filter(T,n)}function T(e){return e.normalizedDuration<=this&&!0===e.active}function M(e){return e[Math.floor(Math.random()*Math.floor(e.length))]}function Q(e,t){const a=[];for(let n=0;n<e;n+=1)a.push(t[Math.floor(Math.random()*Math.floor(t.length))]);return a}function q(e){return function(e){return e[Math.floor(Math.random()*Math.floor(e.length))]}(e)}function F(e){if(0===e)return"";if(1===e)return"r";return Math.random()<.5?"":"r"}class D extends n.Component{constructor(e){super(e),this.drawQuestion=e=>{const t=this.state,a=t.sTimeSignature,n=t.sPickedNote,l=t.sNoteSuffix,s=t.clef;var o=new y.a.Flow.Renderer(e,y.a.Flow.Renderer.Backends.SVG);o.resize(150,150);var r=o.getContext(),i=new y.a.Flow.Stave(10,40,120);i.setConfigForLines(this.lineConfig),i.addClef(s).addTimeSignature(a).setEndBarType(this.barType);var c=[];if(C(a)-n.normalizedDuration===0)c.push(new y.a.Flow.StaveNote({clef:s,keys:this.notePosition,duration:n.vfNotation}));else{c.push(new y.a.Flow.StaveNote({clef:s,keys:this.notePosition,duration:"".concat(n.vfNotation).concat(l)}));const e=C(a)-n.normalizedDuration,t=k(a).find(t=>t.normalizedDuration===e);if(t)c.push(new y.a.Flow.GhostNote({clef:s,keys:this.notePosition,duration:t.vfNotation}));else{(function(e,t){const a=[];let n=e,l=0;for(;n>0;)t[l].normalizedDuration<=n?(n-=t[l].normalizedDuration,a.push(l)):l+=1;return a})(e,k(a)).forEach(e=>{c.push(new y.a.Flow.GhostNote({clef:s,keys:this.notePosition,duration:k(a)[e].vfNotation}))})}}var u=new y.a.Flow.Voice({num_beats:C(a),beat_value:w(a)});u.addTickables(c),(new y.a.Flow.Formatter).joinVoices([u]).format([u],120),i.setContext(r).draw(),u.draw(r,i)},console.log(this.props);const t=e.allowedNotes,a=e.identifier,n=e.noteTypes,l=M(e.allowedMeters),s=S(l,t),o=q(s);let r=e.allowedClefs;void 0===r&&(r=["percussion"]);const i=M(r);this.state={sTimeSignature:l,sAllowedNotes:s,sAllowedMeters:e.allowedMeters,sPickedNote:o,sNumberOfBeats:C(l),sBeatValue:w(l),sId:a,sNoteSuffix:F(n),clef:i},console.log(this.state),this.notePosition=["b/4"],this.barType="double",this.lineConfig=[{visible:!1},{visible:!1},{visible:!0},{visible:!1},{visible:!1}],this.handleClick=this.handleClick.bind(this)}componentDidUpdate(){const e=this.state.sId;document.getElementById(e).innerHTML="";const t=document.getElementById(e);this.drawQuestion(t)}componentDidMount(){const e=this.state.sId,t=document.createElement("div");t.id=e,t.classList.add("note-question","col-sm-2");const a=document.getElementById("note-container-row"),n=document.getElementsByClassName(e)[0];n.appendChild(t),a.appendChild(n),this.drawQuestion(t)}handleClick(e){const t=this.state.sAllowedMeters,a=this.props.allowedNotes,n=M(t),l=S(n,a),s=q(l);this.setState({sTimeSignature:n,sAllowedNotes:l,sPickedNote:s,sNumberOfBeats:C(n),sBeatValue:w(n)})}render(){const e=this.state.sId,t="".concat(e," quest-container");return l.a.createElement("div",{className:t},l.a.createElement("button",{type:"button","data-id":e,onClick:this.handleClick},l.a.createElement("i",{className:"screen-only fa fa-redo-alt"})))}}var x=D;class O extends l.a.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState({hasError:!0})}render(){return this.state.hasError?l.a.createElement("h6",null,"Did you select a not and time signature that are not compatible?"):this.props.children}}var R=O,j=a(8);a(40);class A extends l.a.PureComponent{render(){const e=this.props.children;return l.a.createElement(n.Fragment,null,l.a.createElement("nav",{className:"screen-only navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement(j.a,{className:"navbar-brand",to:u},l.a.createElement("i",{className:"fas fa-music"})," Music Minute"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},l.a.createElement("div",{className:"navbar-nav"},l.a.createElement(j.b,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:u},"Create"),l.a.createElement(j.b,{activeClassName:"active",className:"nav-item nav-link",to:m},"About")))),l.a.createElement("main",null,e))}}var V=A;a(49);class B extends n.Component{constructor(e){super(e),this.state={questionTypes:0,questionCount:20,renderWorksheet:!1,allowedNotes:g,allowedKeySignatures:null,keySignatures:[],canRender:!1,hasNotes:!1},this.handleChangeOfAllowedValues=this.handleChangeOfAllowedValues.bind(this),this.handleChangeQuestionTypes=this.handleChangeQuestionTypes.bind(this),this.handleChangeQuestionCount=this.handleChangeQuestionCount.bind(this),this.handleKeySignatureChange=this.handleKeySignatureChange.bind(this),this.handleToggleRender=this.handleToggleRender.bind(this)}componentWillUnmount(){this.timesSigs=[]}handleToggleRender(){const e=this.state,t=e.renderWorksheet,a=e.allowedKeySignatures,n=e.questionCount;this.setState({renderWorksheet:!t,keySignatures:Q(n,a)})}handleChangeQuestionTypes(e){this.setState({questionTypes:+e.currentTarget.value})}handleChangeOfAllowedValues(e){const t=this.state.allowedNotes,a=Object.keys(t);let n=!1;for(let l=0;l<a.length;l+=1)t[a[l]].active=!1;for(let l=0;l<e.length;l+=1)for(let s=0;s<a.length;s+=1)t[a[s]].vfNotation===e[l].value&&(t[a[s]].active=!0,n=!0);this.setState({allowedNotes:t,canRender:this.state.allowedKeySignatures&&0!==this.state.allowedKeySignatures.length&&!0===n})}handleKeySignatureChange(e){const t=[];for(let a=0;a<e.length;a+=1)t.push(e[a].value);this.setState({allowedKeySignatures:t})}handleChangeQuestionCount(e){this.setState({questionCount:+e.currentTarget.value})}render(){const e=this.state,t=e.questionCount,a=e.questionTypes,n=e.keySignatures,s=e.renderWorksheet,o=e.allowedNotes,r=e.allowedKeySignatures,i=e.canRender,c=s?"Reset":"Render Worksheet";return l.a.createElement(V,null,l.a.createElement("form",{className:N()({hide:s})},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},l.a.createElement("fieldset",null,l.a.createElement("h3",null,"Clef"),l.a.createElement("input",{id:"treble",type:"radio",name:"questionTypes",value:"0",onClick:this.handleChangeQuestionTypes,defaultChecked:!0}),l.a.createElement("label",{htmlFor:"notes"},"Treble"),l.a.createElement("br",null),l.a.createElement("input",{id:"bass",type:"radio",name:"questionTypes",value:"1",onClick:this.handleChangeQuestionTypes}),l.a.createElement("label",{htmlFor:"bass"},"Bass"),l.a.createElement("br",null),l.a.createElement("input",{id:"alto",type:"radio",name:"questionTypes",value:"2",onClick:this.handleChangeQuestionTypes}),l.a.createElement("label",{htmlFor:"alto"},"Alto"),l.a.createElement("br",null),l.a.createElement("input",{id:"tenor",type:"radio",name:"questionTypes",value:"3",onClick:this.handleChangeQuestionTypes}),l.a.createElement("label",{htmlFor:"tenor"},"Tenor"))),l.a.createElement("div",{className:"col-2"},l.a.createElement("fieldset",null,l.a.createElement("h4",null,"Number of Questions"),l.a.createElement("input",{type:"number",id:"number-of-questions",name:"numberOfQuestions",min:"1",max:"60",default:t,placeholder:t,onChange:this.handleChangeQustionCount,onInput:this.handleChangeQuestionCount}))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("fieldset",null,l.a.createElement("h4",null,"Keys"),l.a.createElement(b.a,{id:"keys",onChange:this.handleKeySignatureChange,isMulti:!0,isSearchable:!0,options:f,placeholder:"Select key(s)"}),l.a.createElement("label",{className:"sr-only",htmlFor:"keys"},"Selection of key signature(s)")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("fieldset",null,l.a.createElement("h4",null,"Note Value Options"),l.a.createElement(b.a,{id:"note-selection",onChange:this.handleChangeOfAllowedValues,isMulti:!0,isSearchable:!0,options:v,placeholder:"Select note type(s)."}),l.a.createElement("label",{className:"sr-only",htmlFor:"time-signatures"},"Selection of Note Values")))))),l.a.createElement("hr",null)),l.a.createElement("button",{className:"btn btn-primary mt-4 screen-only",type:"button",onClick:this.handleToggleRender,disabled:!i},c),l.a.createElement("button",{id:"print-value-worksheet",onClick:function(){window.print()},className:N()({hide:!s},"btn","screen-only","btn-secondary","mt-4"),type:"button"},l.a.createElement("i",{className:"fas fa-print"})," Print"),s&&l.a.createElement("div",{id:"questions"},l.a.createElement("div",{id:"note-container-row",className:"row"},n.map((e,t)=>l.a.createElement(R,null,l.a.createElement(x,{allowedNotes:o,timeSignature:e,allowedMeters:r,noteTypes:a,key:"ts-".concat(t),identifier:"ts-".concat(t)}))))))}}var W=B;a(59);class P extends n.Component{constructor(e){super(e),this.state={questionTypes:0,questionCount:20,renderWorksheet:!1,timeSigs:[],allowedNotes:g,allowedMeters:null,hasCustomNotes:!1},this.handleChangeOfAllowedValues=this.handleChangeOfAllowedValues.bind(this),this.handleChangeQuestionTypes=this.handleChangeQuestionTypes.bind(this),this.handleChangeQuestionCount=this.handleChangeQuestionCount.bind(this),this.handleMeterChange=this.handleMeterChange.bind(this),this.handleToggleRender=this.handleToggleRender.bind(this)}componentWillUnmount(){this.timesSigs=[]}handleToggleRender(){const e=this.state,t=e.renderWorksheet,a=e.allowedMeters,n=e.questionCount;console.log(Q(10,a)),this.setState({renderWorksheet:!t,timeSigs:Q(n,a)})}handleChangeQuestionTypes(e){this.setState({questionTypes:+e.currentTarget.value})}handleChangeOfAllowedValues(e){const t=this.state.allowedNotes,a=Object.keys(t);let n=!1;for(let l=0;l<a.length;l+=1)t[a[l]].active=!1;for(let l=0;l<e.length;l+=1)for(let s=0;s<a.length;s+=1)t[a[s]].vfNotation===e[l].value&&(t[a[s]].active=!0,n=!0);this.state.allowedMeters&&this.state.allowedMeters.length,this.setState({allowedNotes:t,canRender:this.state.allowedMeters&&0!==this.state.allowedMeters.length&&!0===n})}handleMeterChange(e){console.log(e);const t=[];for(let l=0;l<e.length;l+=1)t.push(e[l].value);console.log(t);const a=(n=this.state.allowedNotes,Object.values(n).find(e=>!0===e.active));var n;this.setState({allowedMeters:t,canRender:t&&a})}handleChangeQuestionCount(e){console.log(e),this.setState({questionCount:+e.currentTarget.value})}render(){const e=this.state,t=e.questionCount,a=e.questionTypes,n=e.timeSigs,s=e.renderWorksheet,o=e.allowedNotes,r=e.allowedMeters,i=e.canRender,c=s?"Reset":"Render Worksheet";return l.a.createElement(V,null,l.a.createElement("form",{className:N()({hide:s})},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("fieldset",null,l.a.createElement("h3",null,"Note Types"),l.a.createElement("input",{id:"notes",type:"radio",name:"questionTypes",value:"0",onClick:this.handleChangeQuestionTypes,defaultChecked:!0}),l.a.createElement("label",{htmlFor:"notes"},"Only Notes"),l.a.createElement("br",null),l.a.createElement("input",{id:"rests",type:"radio",name:"questionTypes",value:"1",onClick:this.handleChangeQuestionTypes}),l.a.createElement("label",{htmlFor:"rests"},"Only Rests"),l.a.createElement("br",null),l.a.createElement("input",{id:"notes|rests",type:"radio",name:"questionTypes",value:"2",onClick:this.handleChangeQuestionTypes}),l.a.createElement("label",{htmlFor:"notes"},"Notes & Rests"))),l.a.createElement("div",{className:"col-3"},l.a.createElement("fieldset",null,l.a.createElement("h4",null,"Number of Questions"),l.a.createElement("input",{type:"number",id:"number-of-questions",name:"numberOfQuestions",min:"1",max:"60",default:t,placeholder:t,onChange:this.handleChangeQustionCount,onInput:this.handleChangeQuestionCount}))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("fieldset",null,l.a.createElement("h4",null,"Time Signatures"),l.a.createElement(b.a,{id:"time-signatures",onChange:this.handleMeterChange,isMulti:!0,isSearchable:!0,options:p,placeholder:"Select time signature(s)."}),l.a.createElement("label",{className:"sr-only",htmlFor:"time-signatures"},"Selection of time signatures")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("fieldset",null,l.a.createElement("h4",null,"Note Value Options"),l.a.createElement(b.a,{id:"note-selection",onChange:this.handleChangeOfAllowedValues,isMulti:!0,isSearchable:!0,options:v,placeholder:"Select note type(s)."}),l.a.createElement("label",{className:"sr-only",htmlFor:"time-signatures"},"Selection of Note Values")))))),l.a.createElement("hr",null)),l.a.createElement("button",{className:"btn btn-primary mt-4 screen-only",type:"button",onClick:this.handleToggleRender,disabled:!i},c),l.a.createElement("button",{id:"print-value-worksheet",onClick:function(){window.print()},className:N()({hide:!s},"btn","screen-only","btn-secondary","mt-4"),type:"button"},l.a.createElement("i",{className:"fas fa-print"})," Print"),s&&l.a.createElement("div",{id:"questions"},l.a.createElement("div",{id:"note-container-row",className:"row"},n.map((e,t)=>l.a.createElement(R,null,l.a.createElement(x,{allowedNotes:o,timeSignature:e,allowedMeters:r,noteTypes:a,key:"ts-".concat(t),identifier:"ts-".concat(t)}))))))}}var K=P;a(24);var z=e=>l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("p",null,"Shamelessly stolen from ",l.a.createElement("a",{href:"http://secondrunnerup.com/mmm2/"},"Mad Music 2")))));var I=e=>l.a.createElement(V,null,l.a.createElement(z,null)),G=(a(60),a(30)),L=a.n(G),U=a(31),H=a.n(U);var J=e=>l.a.createElement(V,null,l.a.createElement("div",{className:"home-container"},l.a.createElement(j.b,{to:d},l.a.createElement("div",{className:"card"},l.a.createElement("img",{src:H.a,className:"card-img-top",alt:"..."}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Note Namer"),l.a.createElement("p",{className:"card-text"},"Create a worksheet of random notes picking from a number of clefs, ranges, and key-signatures.")))),l.a.createElement(j.b,{to:h},l.a.createElement("div",{className:"card"},l.a.createElement("img",{src:L.a,className:"card-img-top",alt:"..."}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"Note Value"),l.a.createElement("p",{className:"card-text"},"Create a worksheet of random notes values. Pick from a number of diferent time-signatures and note values."))))));var _=e=>l.a.createElement(V,null,l.a.createElement("div",null,l.a.createElement("h1",null,"Not Found")));var $=()=>l.a.createElement(r.c,null,l.a.createElement(r.a,{exact:!0,path:u,component:J}),l.a.createElement(r.a,{exact:!0,path:m,component:I}),l.a.createElement(r.a,{exact:!0,path:d,component:W}),l.a.createElement(r.a,{exact:!0,path:h,component:K}),l.a.createElement(r.a,{component:_}));class X extends n.Component{render(){return l.a.createElement(r.b,{history:c},l.a.createElement($,null))}}var Y=X;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.c5e74bf2.chunk.js.map